docker buildx build -t lalghisi/amservice:1.0 --platform linux/amd64 --push . -f DockerfileNext // Build the image for the amservice
docker buildx build -t lalghisi/nginx:1.0 --platform linux/amd64,linux/arm64 --push . -f DockerfileNginx


docker build -t lalghisi/amservice:1.0 . -f DockerfileNext // Build local image for test for arm
docker run -d -p 80:3000 --env-file ./.env.local lalghisi/amservice:1.0

docker build -t nextjs-docker .
docker pull lalghisi/amservice:1.0
docker run -d -p 80:3000 --env-file ./.env.local lalghisi/amservice:1.0
docker run -p 80:3000 --env-file ./.env.local nextjs-docker

docker run --lalghisi/amservice:1.0 --env-file ./.env.locale -p 3000:3000 lalghisi/amservice:1.0

# Create a self-signed certificate and renew it every 365 days
openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout nginx-selfsigned.key -out nginx-selfsigned.crt -config openssl.cnf -extensions req_ext
nex

version: '3.3'